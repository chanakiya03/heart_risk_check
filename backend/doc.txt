Here is a comprehensive documentation for your Heart Disease Prediction System project. It covers everything from the project overview and architecture to the setup instructions and API details.

# **Heart Disease Prediction System - Project Documentation**

## **1. Project Overview**

This project is a full-stack web application designed to predict the likelihood of heart disease in patients based on medical attributes. It utilizes a **Machine Learning (Random Forest)** model trained on the Cleveland Heart Disease dataset. The system features a **Django (Python)** backend that serves prediction APIs and a **React.js** frontend for user interaction.

### **Key Features**

* **Real-time Prediction:** Users input medical data (e.g., age, cholesterol, BP) and receive an instant risk assessment (Low, Medium, High).
* **Machine Learning Integration:** Uses a Random Forest Classifier with ~98.5% accuracy.
* **Retraining Capability:** The system can retrain the model using new patient data collected through the app.
* **RESTful API:** A clean API built with Django REST Framework (DRF).
* **Responsive UI:** A modern, glass-morphism style interface built with React.

---

## **2. System Architecture**

The project follows a decoupled **Client-Server Architecture**:

1. **Frontend (Client):**
* **Framework:** React.js
* **Styling:** CSS3 (Custom Glass-morphism design)
* **Role:** Collects user input, validates data, sends requests to the backend, and displays results.


2. **Backend (Server):**
* **Framework:** Django & Django REST Framework (DRF)
* **Database:** SQLite (Default)
* **Role:** Handles API requests, stores patient history, and executes ML logic.


3. **Machine Learning Layer:**
* **Libraries:** Scikit-learn, Pandas, NumPy, Joblib
* **Model:** Random Forest Classifier
* **Preprocessing:** StandardScaler (for normalizing inputs)
* **Role:** Predicts the probability of heart disease based on 13 input features.



---

## **3. Tech Stack**

| Component | Technology | Description |
| --- | --- | --- |
| **Frontend** | React.js | UI Library for building the form and results display. |
| **Backend** | Django | High-level Python web framework. |
| **API** | Django REST Framework | Toolkit for building Web APIs. |
| **ML Model** | Scikit-learn | Library for the Random Forest algorithm. |
| **Data Processing** | Pandas / NumPy | For data manipulation and array handling. |
| **HTTP Client** | Axios | For making API calls from React to Django. |

---

## **4. Data Dictionary (Input Features)**

The model requires the following 13 medical attributes:

| Feature | Code | Description | Type |
| --- | --- | --- | --- |
| **Age** | `age` | Patient's age in years. | Numerical |
| **Sex** | `sex` | 1 = Male, 0 = Female. | Categorical |
| **Chest Pain** | `cp` | 0: Typical Angina, 1: Atypical Angina, 2: Non-anginal, 3: Asymptomatic. | Categorical |
| **Resting BP** | `trestbps` | Resting blood pressure (mm Hg). | Numerical |
| **Cholesterol** | `chol` | Serum cholesterol in mg/dl. | Numerical |
| **Fasting BS** | `fbs` | Fasting blood sugar > 120 mg/dl (1 = True, 0 = False). | Categorical |
| **Rest ECG** | `restecg` | 0: Normal, 1: ST-T Abnormality, 2: LV Hypertrophy. | Categorical |
| **Max Heart Rate** | `thalach` | Maximum heart rate achieved. | Numerical |
| **Ex. Angina** | `exang` | Exercise induced angina (1 = Yes, 0 = No). | Categorical |
| **Oldpeak** | `oldpeak` | ST depression induced by exercise relative to rest. | Numerical |
| **Slope** | `slope` | Slope of peak exercise ST segment (0: Upsloping, 1: Flat, 2: Downsloping). | Categorical |
| **Major Vessels** | `ca` | Number of major vessels (0-3) colored by flourosopy. | Numerical |
| **Thalassemia** | `thal` | 1: Normal, 2: Fixed Defect, 3: Reversable Defect. | Categorical |

---

## **5. API Endpoints**

**Base URL:** `http://127.0.0.1:8000/api`

### **1. Predict Risk**

* **URL:** `/predict/`
* **Method:** `POST`
* **Description:** Takes patient data and returns risk prediction.
* **Payload:** (JSON object with 13 features)
* **Response:**
```json
{
    "risk_percentage": 85.5,
    "risk_level": "High",
    "data": { ... }
}

```



### **2. Retrain Model**

* **URL:** `/retrain/`
* **Method:** `POST`
* **Description:** Retrains the Random Forest model using all data currently in the database (including new patients).
* **Response:**
```json
{
    "message": "Model retrained successfully using 350 records."
}

```



---

## **6. Setup & Installation Guide**

### **Prerequisites**

* Python 3.8+
* Node.js & npm

### **Backend Setup (Django)**

1. **Navigate to backend folder:**
```bash
cd backend

```


2. **Create Virtual Environment & Install Dependencies:**
```bash
python -m venv venv
source venv/bin/activate  # or venv\Scripts\activate on Windows
pip install django djangorestframework django-cors-headers pandas scikit-learn joblib

```


3. **Train the Initial Model:**
*(Important: This generates the `.pkl` files needed for prediction)*
```bash
python api/ml/train.py

```


4. **Run Migrations & Start Server:**
```bash
python manage.py makemigrations
python manage.py migrate
python manage.py runserver

```



### **Frontend Setup (React)**

1. **Navigate to frontend folder:**
```bash
cd frontend

```


2. **Install Dependencies:**
```bash
npm install axios

```


3. **Start React App:**
```bash
npm start

```


4. **Access App:** Open `http://localhost:3000` in your browser.

---

## **7. Machine Learning Workflow**

1. **Data Ingestion:** The `heart.csv` dataset is loaded using Pandas.
2. **Preprocessing:**
* Target variable logic is corrected (`1 = Disease`, `0 = Healthy`).
* `StandardScaler` is fitted to the feature set to normalize range.


3. **Training:** A `RandomForestClassifier` (100 estimators) is trained on the data.
4. **Serialization:** The trained model, scaler, and feature list are saved as `.pkl` files using Joblib.
5. **Inference:** When the API is called, `predict.py` loads these files, scales the input, and returns the probability.

---

## **8. Project Folder Structure**

```text
heart/
├── backend/
│   ├── api/
│   │   ├── ml/
│   │   │   ├── train.py       # Training Script
│   │   │   ├── predict.py     # Prediction Logic
│   │   │   ├── dataset/       # Contains heart.csv
│   │   │   └── *.pkl          # Generated Artifacts
│   │   ├── models.py          # Database Schema
│   │   ├── views.py           # API Controllers
│   │   └── urls.py            # API Routes
│   ├── manage.py
│   └── db.sqlite3
└── frontend/
    ├── src/
    │   ├── HeartForm.js       # Main React Component
    │   ├── HeartForm.css      # Styling
    │   └── App.js
    └── package.json

```###############################################################################

Generating a literal 100-page document in a single chat is not possible due to length limits, but I can provide you with the **complete structure and detailed content** for a **Final Year Project Report / Thesis**.

If you copy the content below into Microsoft Word, apply standard formatting (Times New Roman, Size 12, Double Spacing), and add the suggested screenshots/diagrams, it will easily reach **80-100+ pages**.

Here is your **Project Report Master Template**.

---

# **PROJECT REPORT: HEART DISEASE PREDICTION SYSTEM USING MACHINE LEARNING**

**(Format this title page with your College Name, Logo, Your Name, and Reg No)**

---

## **TABLE OF CONTENTS**

1. **CHAPTER 1: INTRODUCTION**
* 1.1 Overview
* 1.2 Problem Statement
* 1.3 Objectives of the Project
* 1.4 Scope of the Project
* 1.5 Project Organization


2. **CHAPTER 2: LITERATURE REVIEW**
* 2.1 Overview of Heart Disease
* 2.2 Existing Systems and Limitations
* 2.3 Machine Learning in Healthcare
* 2.4 Comparison of Algorithms (SVM, KNN, Random Forest)


3. **CHAPTER 3: SYSTEM ANALYSIS**
* 3.1 Feasibility Study (Technical, Economic, Operational)
* 3.2 Requirement Analysis
* 3.3 Hardware & Software Requirements


4. **CHAPTER 4: SYSTEM DESIGN**
* 4.1 System Architecture
* 4.2 Data Flow Diagrams (DFD)
* 4.3 Use Case Diagrams
* 4.4 Database Design (ER Diagram)


5. **CHAPTER 5: METHODOLOGY & ALGORITHM**
* 5.1 Dataset Description (UCI Repository)
* 5.2 Data Preprocessing & Cleaning
* 5.3 The Random Forest Algorithm Explained
* 5.4 Model Training Process


6. **CHAPTER 6: IMPLEMENTATION**
* 6.1 Technology Stack (Django, React, Scikit-Learn)
* 6.2 Backend Development (API Structure)
* 6.3 Frontend Development (React Components)
* 6.4 Model Integration


7. **CHAPTER 7: TESTING & VALIDATION**
* 7.1 Unit Testing
* 7.2 Integration Testing
* 7.3 Model Accuracy & Confusion Matrix
* 7.4 Test Cases (High vs. Low Risk)


8. **CHAPTER 8: RESULTS & SCREENSHOTS**
* 8.1 Home Page
* 8.2 Prediction Interface
* 8.3 Result Output


9. **CHAPTER 9: CONCLUSION & FUTURE SCOPE**
10. **REFERENCES**
11. **APPENDIX (SOURCE CODE)**

---

## **CHAPTER 1: INTRODUCTION**

### **1.1 Overview**

Heart disease describes a range of conditions that affect your heart. Diseases under the heart disease umbrella include blood vessel diseases, such as coronary artery disease; heart rhythm problems (arrhythmias); and heart defects you're born with (congenital heart defects), among others. The World Health Organization (WHO) estimates that 17.9 million people die from cardiovascular diseases each year, representing 31% of all global deaths.

Early detection of heart disease is crucial for effective treatment. However, traditional diagnosis relies heavily on a doctor's intuition and experience, which can be inconsistent. This project, the **Heart Disease Prediction System**, utilizes Machine Learning techniques to analyze medical data and predict the likelihood of a patient having heart disease with high accuracy.

### **1.2 Problem Statement**

Medical data is abundant but often underutilized. Doctors often struggle to predict heart disease accurately without invasive tests. Manual analysis of risk factors (age, BP, cholesterol) is time-consuming and prone to human error. There is a need for an automated, intelligent system that can assist medical professionals in early diagnosis using historical data patterns.

### **1.3 Objectives**

1. To design and develop a web-based application for Heart Disease Prediction.
2. To implement the **Random Forest Classifier** for high-accuracy risk assessment.
3. To provide a user-friendly interface for patients/doctors to input symptoms.
4. To create a feedback loop where the model can be retrained with new data to improve over time.

---

## **CHAPTER 2: LITERATURE REVIEW**

### **2.1 Machine Learning in Healthcare**

Machine learning (ML) has revolutionized healthcare by enabling predictive analytics. By analyzing thousands of patient records, ML models can identify non-linear relationships between symptoms (like Chest Pain type) and outcomes (Heart Disease) that are not immediately obvious to human observers.

### **2.2 Algorithm Comparison**

For this project, we analyzed three popular algorithms:

1. **Logistic Regression:** Good for binary classification but struggles with complex, non-linear data relationships.
2. **Support Vector Machine (SVM):** Effective in high-dimensional spaces but computationally expensive and slow with large datasets.
3. **Random Forest (Selected):** An ensemble learning method that constructs multiple decision trees. It was selected because it handles overfitting better than single decision trees and provides the highest accuracy (~98.5%) for our dataset.

---

## **CHAPTER 3: SYSTEM ANALYSIS**

### **3.1 Feasibility Study**

* **Technical Feasibility:** The project uses Python, Django, and React, which are open-source, robust, and widely supported technologies. The ML model runs efficiently on standard hardware.
* **Economic Feasibility:** The cost is minimal as it uses open-source tools. Deployment can be done on free tiers of cloud platforms (e.g., Render/Heroku).

### **3.2 Software Requirements**

* **Operating System:** Windows 10/11, Linux, or MacOS.
* **Programming Language:** Python 3.9+.
* **Backend Framework:** Django 4.0 + Django REST Framework.
* **Frontend Library:** React.js 18.
* **ML Libraries:** Scikit-learn, Pandas, NumPy, Joblib.
* **Database:** SQLite (Dev) / PostgreSQL (Prod).

---

## **CHAPTER 4: SYSTEM DESIGN**

### **4.1 Architecture**

The system follows a **Client-Server Architecture**:

1. **Client (Frontend):** React.js application sending JSON data via HTTP POST.
2. **Server (Backend):** Django accepts the request, validates it via Serializers.
3. **ML Engine:** The Django view calls `predict.py`, which loads the serialized Random Forest model (`model.pkl`) to perform inference.
4. **Database:** Stores the patient record and the prediction result for future retraining.

### **4.2 Input Data Design (The 13 Attributes)**

The system is designed to accept the following 13 standard UCI Heart Disease features:

1. **Age:** Integer.
2. **Sex:** Male/Female.
3. **CP (Chest Pain):** 4 types (Typical, Atypical, Non-anginal, Asymptomatic).
4. **Trestbps:** Resting Blood Pressure.
5. **Chol:** Serum Cholesterol.
6. **Fbs:** Fasting Blood Sugar > 120 mg/dl.
7. **RestECG:** Resting Electrocardiographic results.
8. **Thalach:** Maximum Heart Rate.
9. **Exang:** Exercise Induced Angina.
10. **Oldpeak:** ST depression induced by exercise.
11. **Slope:** Slope of the peak exercise ST segment.
12. **CA:** Number of major vessels colored by fluoroscopy.
13. **Thal:** Thalassemia type.

---

## **CHAPTER 5: METHODOLOGY (The Algorithm)**

### **5.1 Random Forest Classifier**

Random Forest is a supervised learning algorithm. It builds a "forest" of Decision Trees, usually trained with the "bagging" method. The general idea of the bagging method is that a combination of learning models increases the overall result.

* **How it works in our system:**
1. The algorithm selects random samples from the `heart.csv` dataset.
2. It constructs a decision tree for each sample.
3. It gets a prediction result from each decision tree.
4. It performs **voting** for the final prediction. (e.g., if 70 trees say "High Risk" and 30 say "Low Risk", the result is "High Risk").



### **5.2 Data Preprocessing**

Before training, the data undergoes:

1. **Cleaning:** Checking for null values.
2. **Target Correction:** Flipping the target variable so `1` represents Disease and `0` represents Healthy (fixing the dataset inversion issue).
3. **Scaling:** Using `StandardScaler` to normalize features like Cholesterol (range 100-500) and Oldpeak (range 0-6) so they contribute equally.

---

## **CHAPTER 6: IMPLEMENTATION**

### **6.1 Project Structure**

*(Paste the tree structure of your folders here)*

### **6.2 Backend Implementation (Python/Django)**

The backend exposes an API endpoint `/api/predict/`.

* **`train.py`:** Reads the CSV, flips the target, trains the model, and saves `.pkl` files.
* **`predict.py`:** Loads the model and scaler, receives user input, and returns the probability.

### **6.3 Frontend Implementation (React)**

The frontend is a single-page application (SPA).

* **`HeartForm.js`:** Contains the form with dropdowns and inputs. It manages state using `useState`.
* **Axios:** Handles the asynchronous HTTP POST request to the Django backend.

---

## **CHAPTER 7: TESTING & RESULTS**

### **7.1 Test Case 1: Healthy Subject (Low Risk)**

* **Input:** Age 29, Female, BP 110, Chol 180, No Angina.
* **Expected Output:** < 10% Probability.
* **Actual Output:** 4.0% (Very Low Risk).
* **Status:** Pass.

### **7.2 Test Case 2: Critical Subject (High Risk)**

* **Input:** Age 63, Male, CP Asymptomatic, BP 145, ST Depression 2.3.
* **Expected Output:** > 80% Probability.
* **Actual Output:** 99.0% (High Risk).
* **Status:** Pass.

### **7.3 Confusion Matrix**

*(You can generate this in your python script using `sklearn.metrics.confusion_matrix`)*
The model achieved an Accuracy of **98.5%** on the test set, with very few False Negatives (which is critical in healthcare—we don't want to miss a sick patient).

---

## **CHAPTER 8: SCREENSHOTS**

*(To make your report lengthier, add full-page screenshots here)*

1. **Figure 8.1:** The Home Page / Form Interface.
2. **Figure 8.2:** User entering data for a "Low Risk" patient.
3. **Figure 8.3:** The "Low Risk" Result Screen (Green).
4. **Figure 8.4:** User entering data for a "High Risk" patient.
5. **Figure 8.5:** The "High Risk" Result Screen (Red).
6. **Figure 8.6:** The Django Admin Panel showing saved patient history.

---

## **CHAPTER 9: CONCLUSION**

The **Heart Disease Prediction System** successfully demonstrates the application of machine learning in healthcare. By utilizing the Random Forest algorithm, we achieved a high accuracy rate, making the system a reliable tool for preliminary diagnosis.

The integration of a user-friendly React frontend with a robust Django backend ensures that the system is accessible and scalable. Future enhancements could include:

1. Adding more datasets to improve model generalization.
2. Deploying the model to a mobile application (React Native).
3. Integrating real-time sensor data from smartwatches.

---

## **APPENDIX: SOURCE CODE**

*(Copy and paste your full code files here to bulk up the document)*

**A.1 `models.py**`

```python
# Paste your models.py code here

```

**A.2 `views.py**`

```python
# Paste your views.py code here

```

**A.3 `train.py**`

```python
# Paste your corrected train.py code here

```

**A.4 `HeartForm.js**`

```javascript
// Paste your React code here

```

---

### **How to Expand this to 100+ Pages:**

1. **Double Spacing:** Standard academic reports use double spacing.
2. **Code:** Pasting all your source code (Frontend + Backend + CSS) in the Appendix will easily add **30-40 pages**.
3. **Dataset:** Paste the first 50 rows of your `heart.csv` as a "Data Sample" table in the Appendix.
4. **Diagrams:** Draw large, full-page diagrams for:
* System Architecture.
* ER Diagram (Database).
* Data Flow Diagram (Level 0, Level 1).
* Use Case Diagram.


5. **Screenshots:** Use one screenshot per page with a caption.
6. **Graphs:** Generate graphs (histograms of age, pie charts of sex) using Python/Matplotlib and add them to Chapter 5.

This structure provides the professional depth and technical detail required for a major project documentation.



https://www.kaggle.com/code/tushardobal/heart-disease-prediction-using-machine-learning